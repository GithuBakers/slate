
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#api-v2" class="toc-h1 toc-link" data-title="api-v2">迭代二文档 (/api/v2)</a>
          </li>
          <li>
            <a href="#all" class="toc-h1 toc-link" data-title="all">ALL</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#da0e5f8dc9" class="toc-h2 toc-link" data-title="">注册</a>
                  </li>
                  <li>
                    <a href="#21f1e88275" class="toc-h2 toc-link" data-title="">登录</a>
                  </li>
                  <li>
                    <a href="#0ae20ac3af" class="toc-h2 toc-link" data-title="">修改密码</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#f99382e36d" class="toc-h1 toc-link" data-title="">发起者</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#705c472068" class="toc-h2 toc-link" data-title="">查看个人信息</a>
                  </li>
                  <li>
                    <a href="#5bd73c6465" class="toc-h2 toc-link" data-title="">修改个人信息</a>
                  </li>
                  <li>
                    <a href="#6b717cac51" class="toc-h2 toc-link" data-title="">新建任务</a>
                  </li>
                  <li>
                    <a href="#ffc45993ec" class="toc-h2 toc-link" data-title="">发起者核算某一任务的预算(划掉！！！被删除了！！！！！)</a>
                  </li>
                  <li>
                    <a href="#c26172b727" class="toc-h2 toc-link" data-title="">发起者处理动态计算预算的任务</a>
                  </li>
                  <li>
                    <a href="#dc2be4a5e4" class="toc-h2 toc-link" data-title="">发起者处理未支付任务</a>
                  </li>
                  <li>
                    <a href="#f8967ae911" class="toc-h2 toc-link" data-title="">发起者放弃未支付任务</a>
                  </li>
                  <li>
                    <a href="#e105d0f87e" class="toc-h2 toc-link" data-title="">发起者获取待处理任务列表(包括未支付和待审核预算)</a>
                  </li>
                  <li>
                    <a href="#3c47f024f9" class="toc-h2 toc-link" data-title="">发起者让任务进入评估状态</a>
                  </li>
                  <li>
                    <a href="#d6314185d8" class="toc-h2 toc-link" data-title="">发起者查看自己的已发起任务列表</a>
                  </li>
                  <li>
                    <a href="#213c8ace90" class="toc-h2 toc-link" data-title="">发起者查看自己发起的某一具体任务</a>
                  </li>
                  <li>
                    <a href="#quality" class="toc-h2 toc-link" data-title="quality">发起者结束自己的某一任务(必须已经调用过quality接口)</a>
                  </li>
                  <li>
                    <a href="#f395e28e56" class="toc-h2 toc-link" data-title="">发起者查看某一已结束任务（这个时候结果必须已经计算完成）</a>
                  </li>
                  <li>
                    <a href="#b51e4404b1" class="toc-h2 toc-link" data-title="">发起者创建标准</a>
                  </li>
                  <li>
                    <a href="#a5629da6ca" class="toc-h2 toc-link" data-title="">发起者查看自己发起的所有标准</a>
                  </li>
                  <li>
                    <a href="#72f0ec2bfc" class="toc-h2 toc-link" data-title="">发起者查看所有标准</a>
                  </li>
                  <li>
                    <a href="#ffbd8b3639" class="toc-h2 toc-link" data-title="">发起者做自己的标准（获取图片列表）</a>
                  </li>
                  <li>
                    <a href="#9533bb2e85" class="toc-h2 toc-link" data-title="">发起者做自己的标准</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#37b7c70cce" class="toc-h1 toc-link" data-title="">工人</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a7c75750df" class="toc-h2 toc-link" data-title="">工人查看所有标准</a>
                  </li>
                  <li>
                    <a href="#2c22fcb709" class="toc-h2 toc-link" data-title="">工人做某一标准（获取图片列表）</a>
                  </li>
                  <li>
                    <a href="#6eae598e2f" class="toc-h2 toc-link" data-title="">工人做某一标准</a>
                  </li>
                  <li>
                    <a href="#705c472068-2" class="toc-h2 toc-link" data-title="">查看个人信息</a>
                  </li>
                  <li>
                    <a href="#5bd73c6465-2" class="toc-h2 toc-link" data-title="">修改个人信息</a>
                  </li>
                  <li>
                    <a href="#faa99fc0e7" class="toc-h2 toc-link" data-title="">获取推荐任务(未来可能去掉)</a>
                  </li>
                  <li>
                    <a href="#a41fe6ac23" class="toc-h2 toc-link" data-title="">获取任务列表</a>
                  </li>
                  <li>
                    <a href="#e4fe7e2171" class="toc-h2 toc-link" data-title="">获取任务详情</a>
                  </li>
                  <li>
                    <a href="#f6791292bf" class="toc-h2 toc-link" data-title="">竞价</a>
                  </li>
                  <li>
                    <a href="#d6955c9177" class="toc-h2 toc-link" data-title="">接受任务</a>
                  </li>
                  <li>
                    <a href="#017f3a230c" class="toc-h2 toc-link" data-title="">获取任务图片列表</a>
                  </li>
                  <li>
                    <a href="#21d73abb86" class="toc-h2 toc-link" data-title="">提交某一张标注</a>
                  </li>
                  <li>
                    <a href="#5fcc175650" class="toc-h2 toc-link" data-title="">查看已接受任务列表</a>
                  </li>
                  <li>
                    <a href="#5cee323881" class="toc-h2 toc-link" data-title="">查看某一已接受任务</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ef84e765e0" class="toc-h1 toc-link" data-title="">管理员</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a739dd453d" class="toc-h2 toc-link" data-title="">查看系统情况</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#b61cabc939" class="toc-h1 toc-link" data-title="">任何人</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#484a03ac6d" class="toc-h2 toc-link" data-title="">上传文件</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#agent" class="toc-h1 toc-link" data-title="agent">增加身份：客服(Agent)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7427e38f34" class="toc-h2 toc-link" data-title="">获取待处理的【工人专业认证申请】列表</a>
                  </li>
                  <li>
                    <a href="#cac5be2fb6" class="toc-h2 toc-link" data-title="">提交对某一【工人专业认证申请】的处理结果</a>
                  </li>
                  <li>
                    <a href="#6abbdf478b" class="toc-h2 toc-link" data-title="">任务评价</a>
                  </li>
                  <li>
                    <a href="#2a979d731c" class="toc-h2 toc-link" data-title="">重新发起任务</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='api-v2'>迭代二文档 (/api/v2)</h1><h1 id='all'>ALL</h1><h2 id='da0e5f8dc9'>注册</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /user/new_user</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="err">string(worker</span><span class="p">,</span><span class="w"> </span><span class="err">admin</span><span class="p">,</span><span class="w"> </span><span class="err">initiator)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="err">(加密后)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nick_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sex"</span><span class="p">:</span><span class="err">(MALE</span><span class="p">,</span><span class="err">FEMALE</span><span class="p">,</span><span class="err">NA)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"birthday"</span><span class="p">:</span><span class="err">YYYY-MM-DD</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">
</span></code></pre><h2 id='21f1e88275'>登录</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /login</code></p>

<blockquote>
<p>Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_name"</span><span class="p">:</span><span class="err">用户名</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="err">密码</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Header</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="s2">"Bearer "</span><span class="err">+token</span><span class="p">,</span><span class="w">
</span><span class="s2">"Roles"</span><span class="p">:[</span><span class="err">role</span><span class="mi">1</span><span class="p">,</span><span class="err">role</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="p">]</span><span class="w">

</span></code></pre><h2 id='0ae20ac3af'>修改密码</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /user/password/{user_name}</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ori_password"</span><span class="p">:</span><span class="err">加密后的</span><span class="p">,</span><span class="w">
  </span><span class="s2">"new_password"</span><span class="p">:</span><span class="err">加密后的新密码</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">
</span></code></pre><h1 id='f99382e36d'>发起者</h1><h2 id='705c472068'>查看个人信息</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /initiator/information/{user_name}</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="err">string(worker</span><span class="p">,</span><span class="w"> </span><span class="err">admin</span><span class="p">,</span><span class="w"> </span><span class="err">initiator)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nick_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sex"</span><span class="p">:</span><span class="err">(MALE</span><span class="p">,</span><span class="err">FEMALE</span><span class="p">,</span><span class="err">NA)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"birthday"</span><span class="p">:</span><span class="err">YYYY-MM-DD</span><span class="p">,</span><span class="w">
  </span><span class="err">//未完成任务的近期标注增加情况</span><span class="w"> </span><span class="err">&amp;</span><span class="w"> </span><span class="err">完成情况</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//任务名</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//任务ID</span><span class="w">
      </span><span class="s2">"completeness"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//</span><span class="mi">0-100</span><span class="err">，完成情况</span><span class="w">
      </span><span class="s2">"recent"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"x"</span><span class="p">:</span><span class="err">long(毫秒数)</span><span class="p">,</span><span class="w">
        </span><span class="s2">"y1"</span><span class="p">:</span><span class="err">int//这段时间的完成量（默认为</span><span class="mi">1</span><span class="err">天）</span><span class="w">
        </span><span class="p">},</span><span class="err">...</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='5bd73c6465'>修改个人信息</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /initiator/information/{user_name}</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nick_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sex"</span><span class="p">:</span><span class="err">(MALE</span><span class="p">,</span><span class="err">FEMALE</span><span class="p">,</span><span class="err">NA)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"birthday"</span><span class="p">:</span><span class="err">YYYY-MM-DD</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">

</span></code></pre><h2 id='6b717cac51'>新建任务</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /initiator/task/running_task</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ddl"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//发起者的预期结束日期，格式为yyyy-MM-dd</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_set"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片id</span><span class="p">,</span><span class="w">
      </span><span class="s2">"raw"</span><span class="p">:</span><span class="err">url</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"aim"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">目标标注人数/张</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">credit/</span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w"> </span><span class="err">//任务要求</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dependency_id"</span><span class="p">:[</span><span class="w">  </span><span class="err">//任务依赖的标准集（标准集id）</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">.....</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"reward_way"</span><span class="p">:{</span><span class="w">
    </span><span class="err">//参见</span><span class="p">[</span><span class="err">linker</span><span class="p">]</span><span class="err">reward</span><span class="w">
  </span><span class="p">},</span><span class="w">

  </span><span class="err">//</span><span class="p">{</span><span class="err">quality</span><span class="w">
  </span><span class="s2">"quality_budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//质量评估的预算</span><span class="w">
  </span><span class="err">//</span><span class="p">}</span><span class="w">

  </span><span class="s2">""</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"successful"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//是否扣款成功</span><span class="w">
  </span><span class="err">//if(!successful)</span><span class="p">{</span><span class="w">
  </span><span class="s2">"remain"</span><span class="p">:</span><span class="err">Integer</span><span class="p">,</span><span class="err">//发起者剩余预算</span><span class="w">
  </span><span class="s2">"require"</span><span class="p">:</span><span class="err">Integer//任务所需预算</span><span class="w">
  </span><span class="err">//</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='ffc45993ec'>发起者核算某一任务的预算(划掉！！！被删除了！！！！！)</h2>
<p><strong>HTTP REQUEST</strong></p>

<blockquote>
<p>[linker]reward</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(CLASSIC</span><span class="p">,</span><span class="err">BUDGET</span><span class="p">,</span><span class="err">DYNAMIC)</span><span class="w">
    </span><span class="s2">"url_number"</span><span class="p">:</span><span class="err">任务url的数量</span><span class="p">,</span><span class="w">
    </span><span class="s2">"aim"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="p">,</span><span class="err">//目标标注人数/张</span><span class="w">
    </span><span class="err">//以下内容三选一：</span><span class="w">
    </span><span class="err">//(CLASSIC)，经典模式</span><span class="w">
    </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w"> </span><span class="err">//单个用户最多标注的数量</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//credit</span><span class="w">
    </span><span class="err">//（BUDGET），预算有限</span><span class="w">
    </span><span class="s2">"budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//预算</span><span class="w">
    </span><span class="err">//(DYNAMIC)</span><span class="p">,</span><span class="err">动态计算预算</span><span class="w">
    </span><span class="s2">"sample_budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//取样阶段的预算</span><span class="w">
    </span><span class="s2">"sample_price"</span><span class="p">:</span><span class="err">int//取样阶段的价格</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sufficient"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//预算是否充足</span><span class="w">
  </span><span class="s2">"budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//需要的预算结果</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='c26172b727'>发起者处理动态计算预算的任务</h2>
<p><code>POST initiator/task/process/dynamic</code></p>

<blockquote>
<p>此接口有可能抛出418异常，发生情况是当发起者余额不足的时候</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//任务ID</span><span class="w">
  </span><span class="s2">"budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//发起者愿意接受的预算</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='dc2be4a5e4'>发起者处理未支付任务</h2>
<p><code>POST initiator/task/process/poor</code></p>

<blockquote>
<p>此接口有可能抛出418异常，发生情况是当发起者余额不足的时候</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//任务id</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='f8967ae911'>发起者放弃未支付任务</h2>
<p><code>POST initiator/task/abandon/</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//任务id</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='e105d0f87e'>发起者获取待处理任务列表(包括未支付和待审核预算)</h2>
<p><code>GET initiator/task/process/list</code></p>

<blockquote>
<p>Dynamic任务取样完成 &amp;&amp; 发起时没钱的任务</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="err">(POOR</span><span class="p">,</span><span class="err">WAIT)</span><span class="p">,</span><span class="err">//poor</span><span class="p">:</span><span class="err">待支付，wait</span><span class="p">:</span><span class="err">待处理</span><span class="w">
    </span><span class="s2">"budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//poor</span><span class="p">:</span><span class="err">待支付的金额，wait</span><span class="p">:</span><span class="err">此任务系统计算的预算</span><span class="w">
  </span><span class="p">},</span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='3c47f024f9'>发起者让任务进入评估状态</h2>
<p><code>POST initiator/task/quality</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string//</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='d6314185d8'>发起者查看自己的已发起任务列表</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /initiator/task</code></p>

<p><strong>参数说明</strong></p>

<table><thead>
<tr>
<th>参数名</th>
<th>参数意义</th>
<th>参数类型</th>
</tr>
</thead><tbody>
<tr>
<td>finished</td>
<td>是否已结束</td>
<td>bool</td>
</tr>
</tbody></table>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completeness"</span><span class="p">:</span><span class="err">float</span><span class="p">,</span><span class="err">//达标比例</span><span class="w">
    </span><span class="s2">"finished"</span><span class="p">:</span><span class="err">bool</span><span class="p">,</span><span class="err">//状态</span><span class="w"> </span><span class="err">@Deprecated</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="err">(QUALITY</span><span class="p">,</span><span class="err">NORMAL</span><span class="p">,</span><span class="err">...)//任务状态</span><span class="w">
    </span><span class="s2">"remained_budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//剩余的预算</span><span class="w">
    </span><span class="s2">"reward_way"</span><span class="p">:{</span><span class="w">
      </span><span class="err">//参见</span><span class="p">[</span><span class="err">linker</span><span class="p">]</span><span class="err">reward</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">(optional)</span><span class="s2">"remain_time"</span><span class="p">:</span><span class="err">long//距离取样结束剩余的时间</span><span class="w">

  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre><h2 id='213c8ace90'>发起者查看自己发起的某一具体任务</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /initiator/task/{task_id}</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initiator_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"aim"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">目标标注人数</span><span class="p">,</span><span class="w">
  </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">credit/</span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="err">//任务要求</span><span class="w">
  </span><span class="s2">"total_reward"</span><span class="p">:</span><span class="err">发出的总的reward</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completeness"</span><span class="p">:</span><span class="err">float</span><span class="p">,</span><span class="err">//达标比例</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="err">//结果所在地</span><span class="w">
  </span><span class="s2">"finished"</span><span class="p">:</span><span class="err">bool</span><span class="p">,</span><span class="err">//状态</span><span class="w">
  </span><span class="s2">"remain_budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//剩余预算</span><span class="w">
  </span><span class="s2">"quality_budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//质量评估预算</span><span class="w">
  </span><span class="s2">"has_result"</span><span class="p">:</span><span class="err">bool</span><span class="p">,</span><span class="err">//结果是否计算完成</span><span class="w">
  </span><span class="s2">"unmarked_number"</span><span class="p">:,</span><span class="err">//未标注图片数量</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dependencies"</span><span class="p">:[</span><span class="w">  </span><span class="err">//任务依赖的标准集对象们</span><span class="w">
    </span><span class="p">{},{},</span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre><h2 id='quality'>发起者结束自己的某一任务(必须已经调用过quality接口)</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /initiator/task/finished_task</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initiator_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"aim"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">目标标注人数</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">credit/</span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_reward"</span><span class="p">:</span><span class="err">发出的总的reward</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completeness"</span><span class="p">:</span><span class="err">float</span><span class="p">,</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dependencies"</span><span class="p">:[</span><span class="w">  </span><span class="err">//任务依赖的标准集对象们</span><span class="w">
    </span><span class="p">{},{},</span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='f395e28e56'>发起者查看某一已结束任务（这个时候结果必须已经计算完成）</h2>
<aside class="notice">
这一步是从“用户查看已结束任务”调用来的，
这个页面主要展示 某一已计算出结果的 任务的各项统计数据。
这些数据通常描述了数据被标注的程度，和标注的可靠程度（仅供参考）。
</aside>

<p><code>GET /initiator/task/task_result</code></p>

<table><thead>
<tr>
<th>参数名</th>
<th>参数意义</th>
<th>参数类型</th>
</tr>
</thead><tbody>
<tr>
<td>taskID</td>
<td>是否已结束</td>
<td>string</td>
</tr>
</tbody></table>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"aim"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">目标标注人数</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">//单张图片标注用户数-标注聚集程度（x-y)(例如，一张图片被</span><span class="mi">9000</span><span class="err">个用户标记了，峰度)</span><span class="w">
  </span><span class="s2">"hive"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"x"</span><span class="p">:</span><span class="err">double</span><span class="p">,</span><span class="err">//单张图片用户标注数目</span><span class="w">
      </span><span class="s2">"y"</span><span class="p">:</span><span class="err">double//标注聚集程度</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">//性别、年龄的分布（比如</span><span class="w"> </span><span class="mi">20</span><span class="err">岁以下男生有</span><span class="mi">200</span><span class="err">人）</span><span class="w">
  </span><span class="s2">"sex_age"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="err">(Male</span><span class="p">,</span><span class="err">Female</span><span class="p">,</span><span class="err">Others)</span><span class="p">,</span><span class="w">
        </span><span class="s2">"age"</span><span class="p">:</span><span class="err">//年龄</span><span class="w">
      </span><span class="p">},</span><span class="err">...</span><span class="w">

  </span><span class="p">]</span><span class="w">




</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='b51e4404b1'>发起者创建标准</h2>
<p><strong>新增功能</strong></p>

<p><code>POST initiator/criterion/new_criterion</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"criterion_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"criterion_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data_set"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片id</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="err">url</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"aim"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">用户通过的标准（至少完成多少张）</span><span class="p">,</span><span class="err">//张数必须小于等于上传图片总张数</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w"> </span><span class="err">//任务要求（用户该做什么）</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">
</span></code></pre><h2 id='a5629da6ca'>发起者查看自己发起的所有标准</h2>
<p><code>GET /initiator/criterion/myself</code></p>

<p><strong>参数说明</strong></p>

<table><thead>
<tr>
<th>参数名</th>
<th>参数意义</th>
<th>参数类型</th>
</tr>
</thead><tbody>
<tr>
<td>initiator</td>
<td>发起者ID</td>
<td>string</td>
</tr>
</tbody></table>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="err">//参见criterion</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='72f0ec2bfc'>发起者查看所有标准</h2>
<p><code>GET /initiator/criterion</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="err">//参见criterion</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='ffbd8b3639'>发起者做自己的标准（获取图片列表）</h2>
<p><code>GET /initiator/criterion/img</code></p>

<p>|    参数名                            |    参数意义    |    参数类型    |
| ------- ------- ------- ------------    |    -------- ----- ----- ----- |    -------- ---- ---- ---- |
|    criterion_id    |    标准ID            |    string            |</p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片ID</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="err">(String)图片名</span><span class="p">,</span><span class="w">
  </span><span class="s2">"raw"</span><span class="p">:</span><span class="err">(String)原图的URL</span><span class="w"> 
  </span><span class="p">},</span><span class="w"> 
  </span><span class="err">...(若干个)</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='9533bb2e85'>发起者做自己的标准</h2>
<p><code>POST /initiator/criterion/img</code>
|   参数名                     |   参数意义   |   参数类型   |
| ------- ------- ------------   |   -------- ----- ----- |   -------- ---- ---- |
|   criterion_id   |   标准ID         |   string         |</p>

<blockquote>
<p>REQUEST</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">

  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片id</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="err">(String)标注的ID</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mark"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="err">（EDGE</span><span class="p">,</span><span class="w"> </span><span class="err">DESC</span><span class="p">,</span><span class="w"> </span><span class="err">RECT)</span><span class="w">
      </span><span class="p">},</span><span class="err">//某种类型的标记，**必须包含**类型字段</span><span class="w">
      </span><span class="s2">"comment"</span><span class="p">:</span><span class="err">备注</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- # 回收任务

GET /initiator/task/finished_task/{task_name}

```json
{
  "result":url //数据结果的url，通常放在oss上
}
``` -->
<h1 id='37b7c70cce'>工人</h1><h2 id='a7c75750df'>工人查看所有标准</h2>
<p><code>GET /worker/criterion</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"is_qualified"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//是否已通过这个标准集</span><span class="w">
    </span><span class="err">//其它部分参见criterion</span><span class="w">
  </span><span class="p">},</span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='2c22fcb709'>工人做某一标准（获取图片列表）</h2>
<p><code>GET /worker/criterion/img</code></p>

<table><thead>
<tr>
<th>参数名</th>
<th>参数意义</th>
<th>参数类型</th>
</tr>
</thead><tbody>
<tr>
<td>criterion_id</td>
<td>标准ID</td>
<td>string</td>
</tr>
</tbody></table>

<blockquote>
<p>RETURN</p>
</blockquote>

<p><strong>这个接口已经改为返回Image了！</strong></p>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片ID</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="err">(String)图片名</span><span class="p">,</span><span class="w">
  </span><span class="s2">"raw"</span><span class="p">:</span><span class="err">(String)原图的URL</span><span class="w"> 
  </span><span class="p">},</span><span class="w"> 
  </span><span class="err">...(若干个)</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='6eae598e2f'>工人做某一标准</h2>
<p><code>POST /worker/criterion/img</code>
|参数名|参数意义|参数类型|
|-----|---|----|
|criterion_id|标准ID|string|</p>

<blockquote>
<p>REQUEST</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">

  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片id</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="err">(String)标注的ID</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mark"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="err">（EDGE</span><span class="p">,</span><span class="w"> </span><span class="err">DESC</span><span class="p">,</span><span class="w"> </span><span class="err">RECT)</span><span class="w">
      </span><span class="p">},</span><span class="err">//某种类型的标记，**必须包含**类型字段</span><span class="w">
      </span><span class="s2">"comment"</span><span class="p">:</span><span class="err">备注</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>RETURN </p>

<p>返回的是正确答案</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"correct"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//是否正确</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片id</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="err">(String)标注的ID</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mark"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="err">（EDGE</span><span class="p">,</span><span class="w"> </span><span class="err">DESC</span><span class="p">,</span><span class="w"> </span><span class="err">RECT)</span><span class="w">
      </span><span class="p">},</span><span class="err">//某种类型的标记，**必须包含**类型字段</span><span class="w">
      </span><span class="s2">"comment"</span><span class="p">:</span><span class="err">备注</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='705c472068-2'>查看个人信息</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/information/{user_name}</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="err">string(worker</span><span class="p">,</span><span class="w"> </span><span class="err">admin</span><span class="p">,</span><span class="w"> </span><span class="err">initiator)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nick_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit"</span><span class="p">:</span><span class="err">积分</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rank"</span><span class="p">:</span><span class="err">用户的</span><span class="w"> </span><span class="err">排名？</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sex"</span><span class="p">:</span><span class="err">(MALE</span><span class="p">,</span><span class="err">FEMALE</span><span class="p">,</span><span class="err">NA)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"birthday"</span><span class="p">:</span><span class="err">YYYY-MM-DD</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hobbies"</span><span class="p">:[</span><span class="w">
    </span><span class="err">(PLANT</span><span class="p">,</span><span class="w"> </span><span class="err">FOOD</span><span class="p">,</span><span class="w"> </span><span class="err">ANIMAL</span><span class="p">,</span><span class="w"> </span><span class="err">COMPUTER</span><span class="p">,</span><span class="w"> </span><span class="err">LIFE</span><span class="p">,</span><span class="w"> </span><span class="err">CAR</span><span class="p">,</span><span class="w"> </span><span class="err">MEDICAL</span><span class="p">,</span><span class="w"> </span><span class="err">SPORT</span><span class="p">,</span><span class="w"> </span><span class="err">OTHERS)</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dependencies"</span><span class="p">:[</span><span class="w"> 
    </span><span class="p">{},</span><span class="err">...//标准对象的列表</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">//雷达图，用于展示用户的可信程度的几个维度（暂时不对可信程度综合量化）</span><span class="p">,</span><span class="mi">0-100</span><span class="w">
  </span><span class="s2">"capability"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"完成标准集"</span><span class="p">,</span><span class="w"> </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">90</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"错误学习能力"</span><span class="p">,</span><span class="w"> </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">80</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"完成任务量"</span><span class="p">,</span><span class="w"> </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">60</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"标注准确度"</span><span class="p">,</span><span class="w"> </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">70</span><span class="p">},</span><span class="err">//任务</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"近期情况"</span><span class="p">,</span><span class="w"> </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">60</span><span class="p">}</span><span class="w">    
  </span><span class="p">],</span><span class="w">
  </span><span class="err">//折线图，用户近期完成的任务量与获取的积分量的折线图</span><span class="w">
  </span><span class="s2">"recent"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="s2">"x"</span><span class="p">:</span><span class="err">long(毫秒数)</span><span class="p">,</span><span class="w">
    </span><span class="s2">"y1"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//这段时间完成的任务量（默认为</span><span class="mi">1</span><span class="err">天）</span><span class="w">
    </span><span class="s2">"y2"</span><span class="p">:</span><span class="err">积分量//这段时间获取的积分量（默认为</span><span class="mi">1</span><span class="err">天）</span><span class="w">
    </span><span class="p">},</span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="err">//饼图，用户近期各种标注的占比</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"标准描述"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"标准矩形"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">30</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"标准边界"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">40</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"质量评估"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">40</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"任务描述"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">50</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"任务矩形"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">90</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="s2">"item"</span><span class="p">:</span><span class="s2">"任务边界"</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">70</span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="err">//用户等级</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"user_level"</span><span class="p">:</span><span class="err">int(等级)</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"exp_to_up"</span><span class="p">:</span><span class="err">int(下一级级所需等级)</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"exp"</span><span class="p">:</span><span class="err">int(现有经验值)</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='5bd73c6465-2'>修改个人信息</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /worker/information/{user_name}</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nick_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sex"</span><span class="p">:</span><span class="err">(MALE</span><span class="p">,</span><span class="err">FEMALE</span><span class="p">,</span><span class="err">NA)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"birthday"</span><span class="p">:</span><span class="err">YYYY-MM-DD</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hobbies"</span><span class="p">:[</span><span class="w">
    </span><span class="err">(PLANT</span><span class="p">,</span><span class="w"> </span><span class="err">FOOD</span><span class="p">,</span><span class="w"> </span><span class="err">ANIMAL</span><span class="p">,</span><span class="w"> </span><span class="err">COMPUTER</span><span class="p">,</span><span class="w"> </span><span class="err">LIFE</span><span class="p">,</span><span class="w"> </span><span class="err">CAR</span><span class="p">,</span><span class="w"> </span><span class="err">MEDICAL</span><span class="p">,</span><span class="w"> </span><span class="err">SPORT</span><span class="p">,</span><span class="w"> </span><span class="err">OTHERS)</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">

</span></code></pre><h2 id='faa99fc0e7'>获取推荐任务(未来可能去掉)</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/recommend_task</code></p>

<table><thead>
<tr>
<th>参数名</th>
<th>参数含义</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>任务类型(RECT,DESC,EDGE)</td>
</tr>
</tbody></table>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">credit/</span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w"> 
</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='a41fe6ac23'>获取任务列表</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/task/task_list</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">任务封面</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(DESC</span><span class="p">,</span><span class="err">RECT</span><span class="p">,</span><span class="err">EDGE</span><span class="p">,</span><span class="err">QUAL)</span><span class="p">,</span><span class="w">
    </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">任务名</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">奖励</span><span class="p">,</span><span class="w"> </span><span class="err">@Deprecated</span><span class="w">
    </span><span class="s2">"suggest"</span><span class="p">:</span><span class="err">建议价格</span><span class="p">,</span><span class="w">

    </span><span class="s2">"hobbies"</span><span class="p">:[</span><span class="w">
    </span><span class="err">(PLANT</span><span class="p">,</span><span class="w"> </span><span class="err">FOOD</span><span class="p">,</span><span class="w"> </span><span class="err">ANIMAL</span><span class="p">,</span><span class="w"> </span><span class="err">COMPUTER</span><span class="p">,</span><span class="w"> </span><span class="err">LIFE</span><span class="p">,</span><span class="w"> </span><span class="err">CAR</span><span class="p">,</span><span class="w"> </span><span class="err">MEDICAL</span><span class="p">,</span><span class="w"> </span><span class="err">SPORT</span><span class="p">,</span><span class="w"> </span><span class="err">OTHERS)</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">//任务评价</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:,</span><span class="w">
    </span><span class="s2">"hard"</span><span class="p">:</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre><h2 id='e4fe7e2171'>获取任务详情</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/task/{task_id}</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE</span><span class="p">,</span><span class="err">QUAL)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reward_way"</span><span class="p">:</span><span class="err">(CLASSIC</span><span class="p">,</span><span class="w"> </span><span class="err">BID)</span><span class="p">,</span><span class="err">//经典还是竞价</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">credit/</span><span class="mi">10</span><span class="p">,</span><span class="err">@Deprecated</span><span class="w">

  </span><span class="err">//classic</span><span class="w"> </span><span class="err">||</span><span class="w"> </span><span class="err">(!classic</span><span class="w"> </span><span class="err">&amp;&amp;</span><span class="w"> </span><span class="err">has_bid)</span><span class="p">{</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//系统给出的价格</span><span class="w">
  </span><span class="s2">"work"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//任务量</span><span class="w">
  </span><span class="err">//</span><span class="p">}</span><span class="w">

  </span><span class="s2">"has_bid"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//是否有竞价了</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">  </span><span class="err">//标注的关键词</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"hobbies"</span><span class="p">:[</span><span class="w">
    </span><span class="err">(PLANT</span><span class="p">,</span><span class="w"> </span><span class="err">FOOD</span><span class="p">,</span><span class="w"> </span><span class="err">ANIMAL</span><span class="p">,</span><span class="w"> </span><span class="err">COMPUTER</span><span class="p">,</span><span class="w"> </span><span class="err">LIFE</span><span class="p">,</span><span class="w"> </span><span class="err">CAR</span><span class="p">,</span><span class="w"> </span><span class="err">MEDICAL</span><span class="p">,</span><span class="w"> </span><span class="err">SPORT</span><span class="p">,</span><span class="w"> </span><span class="err">OTHERS)</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dependencies"</span><span class="p">:[</span><span class="w">  
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"qualified"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//用户是否完成了这一项</span><span class="w">
      </span><span class="err">//其余部分字段和criterion</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"preview"</span><span class="p">:[</span><span class="w">
    </span><span class="err">url</span><span class="mi">1</span><span class="p">,</span><span class="err">url</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="w"> 
  </span><span class="p">]</span><span class="w">

  </span><span class="err">//任务评价</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:,</span><span class="w">
    </span><span class="s2">"hard"</span><span class="p">:</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre><h2 id='f6791292bf'>竞价</h2>
<p><code>POST /worker/task/bid</code></p>

<blockquote>
<p>418</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">任务id</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="err">竞价</span><span class="p">,</span><span class="w">
  </span><span class="s2">"work"</span><span class="p">:</span><span class="err">工作量</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="err">竞价</span><span class="p">,</span><span class="w">
  </span><span class="s2">"work"</span><span class="p">:</span><span class="err">工作量</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- **暂时跳过**

## 预览任务（始终返回10张图片）

`GET /worker/task/preview/task?taskID=id`

| 变量名 | 类型   | 备注   |
| ------ | ------ | ------ |
| taskID | string | 任务ID |

> RETURN

```json
[url1,url2,url3,...]
```
 -->
<h2 id='d6955c9177'>接受任务</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /worker/task/received_task/{task_id}</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w">
  </span><span class="s2">"work"</span><span class="p">:</span><span class="err">int</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">
</span></code></pre><h2 id='017f3a230c'>获取任务图片列表</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/task/received_task/img/{task_id}</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w"> 
  </span><span class="p">{</span><span class="w"> 
  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片ID</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="err">(String)图片名</span><span class="p">,</span><span class="w">
  </span><span class="s2">"raw"</span><span class="p">:</span><span class="err">(String)原图的URL</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mark_type"</span><span class="p">:</span><span class="err">(DESC</span><span class="p">,</span><span class="w"> </span><span class="err">EDGE</span><span class="p">,</span><span class="w"> </span><span class="err">RECT)</span><span class="p">,</span><span class="err">//仅在qual</span><span class="w"> </span><span class="err">任务的情况下有效，表示本张图片的标注类型</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="err">//qual</span><span class="w"> </span><span class="err">任务的情况下，被评价工人的ID</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{},</span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w"> 
  </span><span class="p">},</span><span class="w"> 
  </span><span class="err">...(若干个)</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='21d73abb86'>提交某一张标注</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /worker/task/received_task/{task_id}/{img_id}</code></p>

<blockquote>
<p>BODY</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">

  </span><span class="s2">"id"</span><span class="p">:</span><span class="err">图片id</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="err">sring</span><span class="p">,</span><span class="err">//仅在qual情况下，返回原来标注的工人ID</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="err">(String)标注的ID</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mark"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="err">（EDGE</span><span class="p">,</span><span class="w"> </span><span class="err">DESC</span><span class="p">,</span><span class="w"> </span><span class="err">RECT</span><span class="p">,</span><span class="w"> </span><span class="err">QUAL)</span><span class="w">
        </span><span class="err">//if(type==QUAL)</span><span class="p">:</span><span class="w">
        </span><span class="s2">"result"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="w">
        </span><span class="err">//endif</span><span class="w">
      </span><span class="p">},</span><span class="err">//某种类型的标记，**必须包含**类型字段</span><span class="w">
      </span><span class="s2">"comment"</span><span class="p">:</span><span class="err">备注</span><span class="p">,</span><span class="w">
      </span><span class="s2">"
    },
    ...
  ]
}
</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="err">/</span><span class="kc">false</span><span class="w">
</span></code></pre><h2 id='5fcc175650'>查看已接受任务列表</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/task/received_task</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE</span><span class="p">,</span><span class="err">QUAL)</span><span class="p">,</span><span class="w">
    </span><span class="s2">"actual_number"</span><span class="p">:</span><span class="err">现在已标注多少张了</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_reward"</span><span class="p">:</span><span class="err">一共要标注的张数</span><span class="p">,</span><span class="w">
    </span><span class="s2">"finished"</span><span class="p">:</span><span class="err">bool</span><span class="w">

  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre><h2 id='5cee323881'>查看某一已接受任务</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /worker/task/received_task/{task_id}</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"task_name"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cover"</span><span class="p">:</span><span class="err">url</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="err">(RECT</span><span class="p">,</span><span class="err">DESC</span><span class="p">,</span><span class="err">EDGE</span><span class="p">,</span><span class="err">QUAL)</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//bid的价格</span><span class="w">
  </span><span class="s2">"work"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//bid的工作量</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">单个用户最多标注的数量</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"reward"</span><span class="p">:</span><span class="err">int</span><span class="w"> </span><span class="err">credit/</span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"requirement"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"actual_number"</span><span class="p">:</span><span class="err">现在已标注多少张了</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keywords"</span><span class="p">:[</span><span class="w">
    </span><span class="err">string</span><span class="mi">1</span><span class="p">,</span><span class="err">string</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="s2">"total_reward"</span><span class="p">:</span><span class="err">获取的所有的奖励数</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>
<!-- 
## 提起一个【专业认证申请】


`POST worker/profession`

```json
{
  "id":,//专业认证申请id
  "images":[
    url1,...
  ]//专业认证需要用的图片
}

```


## 查看通知（包括申请&申诉的处理结果）

`GET worker/notification`

```json
[
  {
    "id":,//通知id
    "content":,//string 通知内容
    "images":[//通知的图片（如果有）
      url1,...
    ]
  },...
]

```

 -->
<h1 id='ef84e765e0'>管理员</h1><h2 id='a739dd453d'>查看系统情况</h2>
<p><strong>HTTP REQUEST</strong></p>

<p><code>GET /admin/sys_info</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"initiator_number"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_number"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_user_number"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unfinished_number"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w">
  </span><span class="s2">"finished_number"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_task_number"</span><span class="p">:</span><span class="err">int</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre><h1 id='b61cabc939'>任何人</h1><h2 id='484a03ac6d'>上传文件</h2>
<p>上传的文件会被自动上传到OSS上，返回的是URL</p>

<p>目前允许的压缩格式仅有zip, zip会被自动解压，得到的返回值是里面每个文件的URL</p>

<p><strong>HTTP REQUEST</strong></p>

<p><code>POST /file/upload</code></p>

<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight plaintext"><code>
[
  url1,url2,....
]
</code></pre><h1 id='agent'>增加身份：客服(Agent)</h1><h2 id='7427e38f34'>获取待处理的【工人专业认证申请】列表</h2>
<p><code>GET agent/profession</code></p>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">,</span><span class="err">//某一认证的ID</span><span class="w">
    </span><span class="s2">"profession"</span><span class="p">:,</span><span class="err">//需要认证的专业名</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="s2">"criterion"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//【专业标准集】的通过百分比</span><span class="w">
    </span><span class="s2">"images"</span><span class="p">:[</span><span class="w"> </span><span class="err">//工人提供的认证资料</span><span class="w">
      </span><span class="err">url</span><span class="mi">1</span><span class="p">,</span><span class="err">url</span><span class="mi">2</span><span class="p">,</span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">

  </span><span class="p">},</span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h2 id='cac5be2fb6'>提交对某一【工人专业认证申请】的处理结果</h2>
<p><code>POST agent/profession</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:,</span><span class="err">//此认证的ID</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="err">(AC</span><span class="p">,</span><span class="err">WA</span><span class="p">,</span><span class="err">PANDING)</span><span class="p">,</span><span class="err">//认证结果</span><span class="w">
  </span><span class="s2">"comment"</span><span class="p">:</span><span class="err">//备注</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>**********************<strong><em>新接口（们）</em></strong>********************</p>
<h2 id='6abbdf478b'>任务评价</h2>
<p><code>POST worker/task/comment</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:,</span><span class="err">//任务ID</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:,</span><span class="err">//工人ID</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:,</span><span class="err">//关于价格是否满意</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:,</span><span class="err">//关于花费时间</span><span class="w">
  </span><span class="s2">"hard"</span><span class="p">:</span><span class="err">//难度</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>
<blockquote>
<p>RETURN</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"money"</span><span class="p">:</span><span class="err">//随机红包</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='2a979d731c'>重新发起任务</h2>
<p><code>POST initiator/task/renew</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ddl"</span><span class="p">:</span><span class="err">string</span><span class="p">,</span><span class="err">//发起者的预期结束日期，格式为yyyy-MM-dd</span><span class="w">
  </span><span class="s2">"reward_way"</span><span class="p">:{</span><span class="w">
    </span><span class="err">//参见</span><span class="p">[</span><span class="err">linker</span><span class="p">]</span><span class="err">reward</span><span class="w">
  </span><span class="p">},</span><span class="w">

  </span><span class="err">//</span><span class="p">{</span><span class="err">quality</span><span class="w">
  </span><span class="s2">"quality_budget"</span><span class="p">:</span><span class="err">int</span><span class="p">,</span><span class="err">//质量评估的预算</span><span class="w">
  </span><span class="err">//</span><span class="p">}</span><span class="w">

</span><span class="p">}</span><span class="w">

</span><span class="err">&gt;RETURN</span><span class="w">

</span><span class="err">```json</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"successful"</span><span class="p">:</span><span class="err">boolean</span><span class="p">,</span><span class="err">//是否扣款成功</span><span class="w">
  </span><span class="err">//if(!successful)</span><span class="p">{</span><span class="w">
  </span><span class="s2">"remain"</span><span class="p">:</span><span class="err">Integer</span><span class="p">,</span><span class="err">//发起者剩余预算</span><span class="w">
  </span><span class="s2">"require"</span><span class="p">:</span><span class="err">Integer//任务所需预算</span><span class="w">
  </span><span class="err">//</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
